!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Helpers=e():(t.RingCentral=t.RingCentral||{},t.RingCentral.Helpers=e())}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var r=n(2),i=n(3),o=n(4),s=n(5),a=n(7),u=n(8),c=n(9),p=n(10),l=n(11),h=n(12),d=n(13),f=n(14),y=n(15),m=n(16),v=n(17),g=n(18),b=n(19),_=n(20),x=n(21),F=n(22),S=n(23),w=n(24),I=n(25),P=n(26),E=function(){function t(){this.version="0.1.0",this._utils=new o.Utils,this._validator=new r.Validator(this._utils),this._list=new i.List(this._utils),this._account=new s.Account(this._utils,this._validator,this._list),this._blockedNumber=new a.BlockedNumber(this._utils,this._validator,this._list),this._conferencing=new l.Conferencing(this._utils,this._validator,this._list),this._contact=new c.Contact(this._utils,this._validator,this._list),this._contactGroup=new p.ContactGroup(this._utils,this._validator,this._list),this._country=new h.Country(this._utils,this._validator,this._list),this._extension=new y.Extension(this._utils,this._validator,this._list),this._deviceModel=new f.DeviceModel(this._utils,this._validator,this._list),this._device=new d.Device(this._utils,this._validator,this._list,this._extension,this._deviceModel),this._presence=new x.Presence(this._utils,this._validator,this._list,this._extension),this._call=new u.Call(this._utils,this._validator,this._list,this._presence,this._contact),this._forwardingNumber=new m.ForwardingNumber(this._utils,this._validator,this._list),this._language=new v.Language(this._utils,this._validator,this._list),this._state=new I.State(this._utils,this._validator,this._list,this._country),this._location=new g.Location(this._utils,this._validator,this._list,this._state),this._message=new b.Message(this._utils,this._validator,this._list,this._contact),this._phoneNumber=new _.PhoneNumber(this._utils,this._validator,this._list),this._ringout=new F.Ringout(this._utils,this._validator,this._list),this._service=new S.Service(this._utils,this._validator,this._list),this._shippingMethod=new w.ShippingMethod(this._utils,this._validator,this._list),this._timezone=new P.Timezone(this._utils,this._validator,this._list)}return t.prototype.country=function(){return this._country},t.prototype.deviceModel=function(){return this._deviceModel},t.prototype.language=function(){return this._language},t.prototype.location=function(){return this._location},t.prototype.shippingMethod=function(){return this._shippingMethod},t.prototype.state=function(){return this._state},t.prototype.timezone=function(){return this._timezone},t.prototype.account=function(){return this._account},t.prototype.blockedNumber=function(){return this._blockedNumber},t.prototype.call=function(){return this._call},t.prototype.conferencing=function(){return this._conferencing},t.prototype.contact=function(){return this._contact},t.prototype.contactGroup=function(){return this._contactGroup},t.prototype.device=function(){return this._device},t.prototype.extension=function(){return this._extension},t.prototype.forwardingNumber=function(){return this._forwardingNumber},t.prototype.message=function(){return this._message},t.prototype.phoneNumber=function(){return this._phoneNumber},t.prototype.presence=function(){return this._presence},t.prototype.ringout=function(){return this._ringout},t.prototype.service=function(){return this._service},t}();t.exports=new E},function(t,e){var n=function(){function t(t){this.utils=t}return t.prototype.validate=function(t){var e={errors:{},isValid:!0};return e.errors=t.reduce(function(t,n){var r=n.validator();return r.length>0&&(e.isValid=!1,t[n.field]=t[n.field]||[],t[n.field]=t[n.field].concat(r)),t},{}),e},t.prototype.email=function(t,e){var n=this;return function(){return t?n.utils.isEmail(t,e)?[]:[new Error("Value has to be a valid email")]:[]}},t.prototype.phone=function(t){var e=this;return function(){return t?e.utils.isPhoneNumber(t)?[]:[new Error("Value has to be a valid US phone number")]:[]}},t.prototype.required=function(t){return function(){return t?[]:[new Error("Field is required")]}},t.prototype.length=function(t,e,n){return function(){var r=[];return t?(t=t.toString(),n&&t.length<n&&r.push(new Error("Minimum length of "+n+" characters is required")),e&&t.length>e&&r.push(new Error("Maximum length of "+e+" characters is required")),r):r}},t}();e.Validator=n},function(t,e){var n=function(){function t(t){this.utils=t,this.numberComparator=this.numberComparator.bind(this),this.stringComparator=this.stringComparator.bind(this)}return t.prototype.propertyExtractor=function(t){return function(e,n){return t?e&&e[t]||null:e}},t.prototype.stringComparator=function(t,e,n){return this.utils.parseString(t).localeCompare(this.utils.parseString(e))},t.prototype.numberComparator=function(t,e,n){return this.utils.parseNumber(t)-this.utils.parseNumber(e)},t.prototype.comparator=function(t){return t=this.utils.extend({extractFn:this.propertyExtractor(t&&t.sortBy||null).bind(this),compareFn:this.stringComparator.bind(this)},t),function(e,n){return t.compareFn(t.extractFn(e,t),t.extractFn(n,t),t)}},t.prototype.equalsFilter=function(t,e){return e.condition===t},t.prototype.containsFilter=function(t,e){return t&&t.toString().indexOf(e.condition)>-1},t.prototype.regexpFilter=function(t,e){if(!(e.condition instanceof RegExp))throw new Error("Condition must be an instance of RegExp");return e.condition.test(t)},t.prototype.filter=function(t){var e=this,n=this;return t=(t||[]).map(function(t){return e.utils.extend({condition:"",extractFn:n.propertyExtractor(t&&t.filterBy||null).bind(e),filterFn:n.equalsFilter.bind(e)},t)}),function(e){return t.reduce(function(t,n){return t&&n.condition?n.filterFn(n.extractFn(e,n),n):t},!0)}},t}();e.List=n},function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=/\d/,o={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(function(t){o["[object "+t+"]"]=t.toLowerCase()});var s=function(){function t(){}return t.prototype.extend=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i,o,s,a,u,c,p=arguments[0]||{},l=1,h=arguments.length,d=!1;for("boolean"==typeof p&&(d=p,p=arguments[l]||{},l++),"object"==typeof p||this.isFunction(p)||(p={});h>l;l++)if(null!==(i=arguments[l]))for(o in i)s=p[o],a=i[o],p!==a&&(d&&a&&(this.isPlainObject(a)||(u=this.isArray(a)))?(u?(u=!1,c=s&&this.isArray(s)?s:[]):c=s&&this.isPlainObject(s)?s:{},p[o]=this.extend(d,c,a)):void 0!==a&&(p[o]=a));return p},t.prototype.forEach=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=e(t[n],n);if(r===!1)break}},t.prototype.queryStringify=function(t){var e=this,n=[];return this.forEach(t,function(t,r){e.isArray(t)?t.forEach(function(t){n.push(encodeURIComponent(r)+"="+encodeURIComponent(t))}):n.push(encodeURIComponent(r)+"="+encodeURIComponent(t))}),n.join("&")},t.prototype.parseQueryString=function(t){var e={},n=this;return t.split("&").forEach(function(t){if(t=decodeURIComponent(t),-1==t.indexOf("="))e[t.trim()]=!0;else{var r=t.split("="),i=r[0].trim(),o=r[1].trim();i in e?(i in e&&!n.isArray(e[i])&&(e[i]=[e[i]]),e[i].push(o)):e[i]=o}}),e},t.prototype.isEmail=function(t,e){return e?/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?[ ,;]*)+$/i.test(t):/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(t)},t.prototype.isPhoneNumber=function(t){return/\+?1[0-9]{3}[0-9a-z]{7}/im.test(t.toString().split(/[^0-9a-z\+]/im).join(""))},t.prototype.argumentsToArray=function(t){return Array.prototype.slice.call(t||[],0)},t.prototype.isDate=function(t){return"date"===this.type(t)},t.prototype.isFunction=function(t){return"function"===this.type(t)},t.prototype.isArray=function(t){return Array.isArray?Array.isArray(t):"array"===this.type(t)},t.prototype.isWindow=function(t){return t&&"object"==typeof t&&"setInterval"in t},t.prototype.isNaN=function(t){return null===t||!i.test(t)||isNaN(t)},t.prototype.type=function(t){return null===t?String(t):o[r.call(t)]||"object"},t.prototype.isPlainObject=function(t){if(!t||"object"!==this.type(t)||t.nodeType||this.isWindow(t))return!1;if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return!1;var e;for(e in t);return void 0===e||n.call(t,e)},t.prototype.getProperty=function(t,e){return e.split(/[.[\]]/).reduce(function(t,e){return t?e?t[e]:t:void 0},t)},t.prototype.poll=function(t,e,n){this.stopPolling(n),e=e||1e3;var r=function(n){return n=n||e,e=n,setTimeout(function(){t(r,n)},n)};return r()},t.prototype.stopPolling=function(t){t&&clearTimeout(t)},t.prototype.parseString=function(t){return t?t.toString():""},t.prototype.parseNumber=function(t){return t?(t=parseFloat(t),isNaN(t)?0:t):0},t}();e.Utils=s},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(){return"/account/~"},e}(i.Helper);e.Account=o},function(t,e){var n=function(){function t(t,e,n){this.defaultProperty="id",this.utils=t,this.validator=e,this.list=n}return t.prototype.createUrl=function(t,e){return""},t.prototype.getId=function(t){return t&&t[this.defaultProperty]},t.prototype.isNew=function(t){return!this.getId(t)||!this.getUri(t)},t.prototype.resetAsNew=function(t){return t&&(delete t.id,delete t.uri),t},t.prototype.getUri=function(t){return t&&t.uri},t.prototype.parseMultipartResponse=function(t){return t.isMultipart()?t.data.filter(function(t){return!t.error}).map(function(t){return t.data}):[t.data]},t.prototype.loadRequest=function(t,e){return this.utils.extend(e||{},{url:e&&e.url||t&&this.getUri(t)||this.createUrl(),method:e&&e.method||"GET"})},t.prototype.saveRequest=function(t,e){if(!(t||e&&(e.post||e.body)))throw new Error("No Object");return this.utils.extend(e||{},{method:e&&e.method||(this.isNew(t)?"POST":"PUT"),url:e&&e.url||this.getUri(t)||this.createUrl(),body:e&&(e.body||e.post)||t})},t.prototype.deleteRequest=function(t,e){if(e=e||{},!(this.getUri(t)||e&&e.url))throw new Error("Object has to be not new or URL must be provided");return this.utils.extend(e||{},{method:e&&e.method||"DELETE",url:e&&e.url||this.getUri(t)})},t.prototype.syncRequest=function(t){return t=t||{},t.url=t.url||this.createUrl({sync:!0}),t.query=t.query||t.get||{},t.query.syncToken?t.query={syncType:"ISync",syncToken:t.get.syncToken}:t.query.syncType="FSync",t},t.prototype.nextPageExists=function(t){return t&&t.navigation&&"nextPage"in t.navigation},t.prototype.index=function(t,e,n){return e=e||this.getId.bind(this),t=t||[],t.reduce(function(t,r){var i=e(r);return!i||t[i]&&!n?t:(n?(t[i]||(t[i]=[]),t[i].push(r)):t[i]=r,t)},{})},t.prototype.merge=function(t,e,n,r){var i=this;n=n||this.getId.bind(this),t=t||[],e=e||[];var o=this.index(e,n),s=[],a=t.map(function(t){var e=n(t),a=o[e];return a&&s.push(e),a?r?i.utils.extend(t,a):a:t});return e.forEach(function(t){-1==s.indexOf(n(t))&&a.push(t)}),a},t}();e.Helper=n},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(t,e){return t=t||{},"/account/~/extension/"+(t.extensionId?t.extensionId:"~")+"/blocked-number"+(e?"/"+e:"")},e.prototype.validate=function(t){return this.validator.validate([{field:"phoneNumber",validator:this.validator.phone(t.phoneNumber)},{field:"phoneNumber",validator:this.validator.required(t.phoneNumber)},{field:"name",validator:this.validator.required(t.name)}])},e}(i.Helper);e.BlockedNumber=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(e,n,r,i,o){t.call(this,e,n,r),this.contact=o,this.presence=i}return r(e,t),e.prototype.createUrl=function(t,e){return t=t||{},"personal"in t||"extensionId"in t||(t.personal=!0),"/account/~/"+(t.personal||t.extensionId?"extension/"+(t.extensionId||"~")+"/":"")+(t.active?"active-calls":"call-log")+(e?"/"+e:"")},e.prototype.getSessionId=function(t){return t&&t.sessionId},e.prototype.isInProgress=function(t){return t&&"In Progress"==t.result},e.prototype.isAlive=function(t){return t&&"Alive"==t.availability},e.prototype.isInbound=function(t){return t&&"Inbound"==t.direction},e.prototype.isOutbound=function(t){return!this.isInbound(t)},e.prototype.isMissed=function(t){return t&&"Missed"==t.result},e.prototype.isFindMe=function(t){return t&&"FindMe"==t.action},e.prototype.getCallerInfo=function(t){return this.isInbound(t)?t.from:t.to},e.prototype.getAllCallerInfos=function(t){return[this.getCallerInfo(t)].concat(this.isInbound(t)?t.to:t.from)},e.prototype.formatDuration=function(t){function e(t){return 10>t?"0"+t:t}var n=parseInt(t.duration),r=Math.floor(n/3600),i=Math.floor(n%3600/60),o=Math.floor(n%60);return(r?r+":":"")+e(i)+":"+e(o)},e.prototype.filter=function(t){return t=this.utils.extend({alive:!0,direction:"",type:""},t),this.list.filter([{filterBy:"direction",condition:t.direction},{filterBy:"type",condition:t.type}])},e.prototype.comparator=function(t){return this.list.comparator(this.utils.extend({sortBy:"startTime"},t))},e.prototype.attachContacts=function(t,e,n){var r=this,i=e.reduce(function(t,e){return t.concat(r.getAllCallerInfos(e))},[]);this.contact.attachToCallerInfos(i,t,n)},e.prototype.checkMergeability=function(t,e,n){var r=function(t){return new Date(t).getTime()};return(!n.strict||t.action&&-1!=t.action.toLowerCase().indexOf("ringout"))&&"Outbound"==t.direction&&"Inbound"==e.direction&&(!e.startTime&&!t.startTime||Math.abs(r(e.startTime)-r(t.startTime))<(n.maxStartTimeDiscrepancy||5e3))&&e.from.phoneNumber==t.to.phoneNumber&&(e.to.phoneNumber==t.from.phoneNumber||e.to.name==t.from.name)},e.prototype.combineCalls=function(t,e,n){n=n||{};var r=[];return t.hasSubsequent=!0,n.merge?(t.duration=t.duration>e.duration?t.duration:e.duration,t.from=e.to,t.to=e.from,r.push(t)):(e.subsequent=!0,e.startTime=t.startTime,r.push(t),r.push(e)),r},e.prototype.processCalls=function(t,e){var n=[],r=[],i=this;return t.forEach(function(o){var s=!1;o.subsequent=!1,o.hasSubsequent=!1,t.some(function(t){return o===t?!1:(i.checkMergeability(o,t,e)&&(n=n.concat(i.combineCalls(o,t,e)),r.push(o),r.push(t),s=!0),s)})}),t.forEach(function(t){-1==r.indexOf(t)&&n.push(t)}),n},e.prototype.parsePresenceCalls=function(t){var e=this;return t.map(function(t){return{id:t.id,uri:"",sessionId:t.sessionId,from:{phoneNumber:t.from},to:{phoneNumber:t.to},direction:t.direction,startTime:"",duration:0,type:"",action:"",result:e.presence.isCallInProgress(t)?"In Progress":t.telephonyStatus,telephonyStatus:t.telephonyStatus}})},e.prototype.getSignature=function(t){var e=function(t){return(t||"").toString().replace(/[^0-9]/gi,"")};return t.direction+"|"+(t.from&&e(t.from.phoneNumber))+"|"+(t.to&&e(t.to.phoneNumber))},e.prototype.mergePresenceCalls=function(t,e){var n=new Date,r=this.parsePresenceCalls(e&&e.activeCalls||[]).map(function(t){return delete t.startTime,t});return t=this.merge(t||[],r,this.getSessionId,!0),t.forEach(function(t){t.startTime||(t.startTime=n.toISOString())}),t},e.prototype.mergeAll=function(t,e,n){var r=this.merge(t||[],e||[],this.getSessionId,!0);return this.merge(r,n||[],this.getSessionId,!0)},e}(i.Helper);e.Call=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments),this.phoneFields=["homePhone","homePhone2","businessPhone","businessPhone2","mobilePhone","companyPhone","assistantPhone","carPhone","otherPhone","callbackPhone"],this.faxFields=["businessFax","otherFax"],this.addressFields=["homeAddress","businessAddress","otherAddress"],this.addressSubFields=["street","city","state","zip"],this.nameFields=["firstName","middleName","lastName","nickName"],this.otherFields=["company","jobTitle","webPage","notes"],this.emailFields=["email","email2","email3"]}return r(e,t),e.prototype.createUrl=function(t,e){t=t||{};var n="/account/~/extension/"+(t.extensionId?t.extensionId:"~")+"/address-book";return t.sync?n+"-sync":n+(t.groupId?"/group/"+t.groupId+"/contact":"/contact")+(e?"/"+e:"")},e.prototype.getFieldValues=function(t,e,n){return e.reduce(function(e,r){return t&&t[r]&&(n?e[r]=t[r]:e.push(t[r])),e},n?{}:[])},e.prototype.getFullName=function(t){return this.getFieldValues(t,this.nameFields).join(" ")},e.prototype.getEmails=function(t,e){return this.getFieldValues(t,this.emailFields,e)},e.prototype.getPhones=function(t,e){return this.getFieldValues(t,this.phoneFields,e)},e.prototype.getFaxes=function(t,e){return this.getFieldValues(t,this.faxFields,e)},e.prototype.getAddresses=function(t,e){return this.getFieldValues(t,this.addressFields,e)},e.prototype.isAlive=function(t){return"Alive"==t.availability},e.prototype.match=function(t,e,n){var r=this;n=this.utils.extend({fields:[].concat(this.nameFields,this.emailFields,this.phoneFields,this.faxFields,this.otherFields),inAddresses:!0,transformFn:function(t,e){return t?t.toString().toLocaleLowerCase():""},strict:!1},n),e=n.transformFn(e,n);var i=null;if(!e)return i;var o=function(t){if(!i){var r=n.transformFn(t,n);if(r){var o=n.strict?r==e:r.indexOf(e)>-1;o&&(i=t)}}};return n.fields.forEach(function(e){o(t[e])}),n.inAddresses&&!i&&this.addressFields.forEach(function(e){t[e]&&!i&&r.addressSubFields.forEach(function(n){o(t[e][n])})}),i},e.prototype.matchAsPhone=function(t,e,n){return this.match(t,e,this.utils.extend({fields:[].concat(this.phoneFields,this.faxFields),inAddresses:!1,transformFn:function(t,e){return t?t.toString().replace(/[^\d\w]/gi,""):""},strict:!1},n))},e.prototype.attachToCallerInfos=function(t,e,n){var r=this,i=this.index(t,function(t){return t.phoneNumber},!0);this.utils.forEach(i,function(t,i){var o=null,s=null;e.some(function(t){return s=r.matchAsPhone(t,i,n),s&&(o=t),s}),o&&t.forEach(function(t){t.contact=o,t.contactPhone=s})})},e.prototype.comparator=function(t){var e=this;return this.list.comparator(this.utils.extend({extractFn:function(t,n){return e.getFullName(t)}},t))},e.prototype.filter=function(t){var e=this;return t=this.utils.extend({alive:!0,startsWith:"",phonesOnly:!1,faxesOnly:!1},t),this.list.filter([{condition:t.alive,filterFn:this.isAlive},{condition:t.startsWith,filterFn:function(t,n){return e.match(t,n.condition)}},{condition:t.phonesOnly,filterFn:function(t,n){return e.getPhones(t).length>0}},{condition:t.faxesOnly,filterFn:function(t,n){return e.getFaxes(t).length>0}}])},e.prototype.validate=function(t){return this.validator.validate([{field:"firstName",validator:this.validator.required(t.firstName)},{field:"lastName",validator:this.validator.required(t.lastName)},{field:"email",validator:this.validator.email(t.email)},{field:"email2",validator:this.validator.email(t.email2)},{field:"email3",validator:this.validator.email(t.email3)}])},e}(i.Helper);e.Contact=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(t,e){return"/account/~/extension/~/address-book/group"+(e?"/"+e:"")},e.prototype.validate=function(t){return this.validator.validate([{field:"groupName",validator:this.validator.required(t&&t.groupName)}])},e}(i.Helper);e.ContactGroup=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(){return"/account/~/extension/~/conferencing"},e}(i.Helper);e.Conferencing=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(t,e){return"/dictionary/country"},e}(i.Helper);e.Country=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(e,n,r,i,o){t.call(this,e,n,r),this.extension=i,this.deviceModel=o}return r(e,t),e.prototype.createUrl=function(t,e){return t=t||{},t.order?"/account/~/order":"/account/~"+(t.extensionId?"/extension/"+t.extensionId:"")+"/device"+(e?"/"+e:"")},e.prototype.validate=function(t){return this.validator.validate([{field:"emergencyServiceAddress-street",validator:this.validator.required(t&&t.emergencyServiceAddress&&t.emergencyServiceAddress.street)},{field:"emergencyServiceAddress-city",validator:this.validator.required(t&&t.emergencyServiceAddress&&t.emergencyServiceAddress.city)},{field:"emergencyServiceAddress-state",validator:this.validator.required(t&&t.emergencyServiceAddress&&t.emergencyServiceAddress.state)},{field:"emergencyServiceAddress-country",validator:this.validator.required(t&&t.emergencyServiceAddress&&t.emergencyServiceAddress.country)},{field:"emergencyServiceAddress-zip",validator:this.validator.required(t&&t.emergencyServiceAddress&&t.emergencyServiceAddress.zip)},{field:"emergencyServiceAddress-customerName",validator:this.validator.required(t&&t.emergencyServiceAddress&&t.emergencyServiceAddress.customerName)},{field:"extension",validator:this.validator.required(this.extension.getId(t&&t.extension))},{field:"model",validator:this.validator.required(this.deviceModel.getId(t&&t.model))}])},e}(i.Helper);e.Device=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.getId=function(t){return t?t.sku:null},e.prototype.createUrl=function(t,e){return"/dictionary/device"},e}(i.Helper);e.DeviceModel=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments),this.type={department:"Department",user:"User",announcement:"Announcement",voicemail:"Voicemail"}}return r(e,t),e.prototype.createUrl=function(t,e){return t=t||{},"/account/~"+(t.departmentId?"/department/"+t.departmentId+"/members":"/extension")+(e?"/"+e:"")},e.prototype.isUser=function(t){return t&&t.type==this.type.user},e.prototype.isDepartment=function(t){return t&&t.type==this.type.department},e.prototype.isAnnouncement=function(t){return t&&t.type==this.type.announcement},e.prototype.isVoicemail=function(t){return t&&t.type==this.type.voicemail},e.prototype.comparator=function(t){return this.list.comparator(this.utils.extend({sortBy:"extensionNumber",compareFn:this.list.numberComparator},t))},e.prototype.filter=function(t){return t=this.utils.extend({search:"",type:""},t),this.list.filter([{filterBy:"type",condition:t.type},{condition:t.search.toLocaleLowerCase(),filterFn:this.list.containsFilter,extractFn:function(t){return(t.name&&t.name.toLocaleLowerCase()+" ")+(t.extensionNumber&&t.extensionNumber.toString().toLocaleLowerCase())}}])},e}(i.Helper);e.Extension=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(t,e){return t=t||{},"/account/~/extension/"+(t.extensionId||"~")+"/forwarding-number"+(e?"/"+e:"")},e.prototype.getId=function(t){return t&&(t.id||t.phoneNumber)},e.prototype.hasFeature=function(t,e){return!!t&&!!t.features&&-1!=t.features.indexOf(e)},e.prototype.comparator=function(t){return this.list.comparator(this.utils.extend({sortBy:"label"},t))},e.prototype.filter=function(t){var e=this;return t=this.utils.extend({features:[]},t),this.list.filter([{condition:t.features.length,filterFn:function(n){return t.features.some(function(t){return e.hasFeature(n,t)})}}])},e}(i.Helper);e.ForwardingNumber=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(t,e){return"/dictionary/language"},e}(i.Helper);e.Language=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(e,n,r,i){t.call(this,e,n,r),this.state=i}return r(e,t),e.prototype.createUrl=function(){return"/dictionary/location"},e.prototype.filter=function(t){var e=this,n=[];return t=this.utils.extend({stateId:"",onlyUniqueNPA:!1},t),this.list.filter([{condition:t.stateId,filterFn:function(t,n){return e.state.getId(t.state)==n.condition}},{condition:t.onlyUniqueNPA,filterFn:function(t,e){return-1==n.indexOf(t.npa)?(n.push(t.npa),!0):!1}}])},e.prototype.comparator=function(t){return t=this.utils.extend({sortBy:"npa"},t),"nxx"==t.sortBy&&(t.extractFn=function(t){return 1e6*parseInt(t.npa)+parseInt(t.nxx)},t.compareFn=this.list.numberComparator),this.list.comparator(t)},e}(i.Helper);e.Location=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(e,n,r,i){t.call(this,e,n,r),this.contact=i}return r(e,t),e.prototype.createUrl=function(t,e){t=t||{};var n="/account/~/extension/"+(t.extensionId||"~");return t.fax?n+"/fax":t.sms?n+"/sms":t.pager?n+"/company-pager":t.sync?n+"/message-sync":n+"/message-store"+(e?"/"+e:"")},e.prototype.isInbound=function(t){return t&&"Inbound"==t.direction},e.prototype.isOutbound=function(t){return!this.isInbound(t)},e.prototype.isSMS=function(t){return t&&"SMS"==t.type},e.prototype.isPager=function(t){return t&&"Pager"==t.type},e.prototype.isVoiceMail=function(t){return t&&"VoiceMail"==t.type},e.prototype.isFax=function(t){return t&&"Fax"==t.type},e.prototype.isAlive=function(t){return t&&"Alive"==t.availability},e.prototype.isRead=function(t){return"Read"==t.readStatus},e.prototype.setIsRead=function(t,e){return t.readStatus=e?"Read":"Unread",t},e.prototype.getAttachmentContentType=function(t,e){return t.attachments[e]?t.attachments[e].contentType:""},e.prototype.addEventToSubscription=function(t,e){return t.setEventFilters([this.createUrl(e)])},e.prototype.getCallerInfos=function(t){return this.isInbound(t)?[t.from]:t.to},e.prototype.getAllCallerInfos=function(t){return this.getCallerInfos(t).concat(this.isInbound(t)?t.to:[t.from])},e.prototype.comparator=function(t){return this.list.comparator(this.utils.extend({sortBy:"creationTime"},t))},e.prototype.filter=function(t){return t=this.utils.extend({search:"",alive:!0,direction:"",conversationId:"",readStatus:""},t),this.list.filter([{condition:t.alive,filterFn:this.isAlive},{filterBy:"type",condition:t.type},{filterBy:"direction",condition:t.direction},{filterBy:"conversationId",condition:t.conversationId},{filterBy:"readStatus",condition:t.readStatus},{filterBy:"subject",condition:t.search,filterFn:this.list.containsFilter}])},e.prototype.attachContacts=function(t,e,n){var r=this,i=e.reduce(function(t,e){return t.concat(r.getAllCallerInfos(e))},[]);this.contact.attachToCallerInfos(i,t,n)},e.prototype.shorten=function(t){return{from:t.from,to:t.to,text:t.subject}},e.prototype.validateSMS=function(t){return this.validator.validate([{field:"to",validator:this.validator.required(this.utils.getProperty(t,"to[0].phoneNumber"))},{field:"from",validator:this.validator.required(this.utils.getProperty(t,"from.phoneNumber"))},{field:"subject",validator:this.validator.required(this.utils.getProperty(t,"subject"))},{field:"subject",validator:this.validator.length(this.utils.getProperty(t,"subject"),160)}])},e.prototype.validatePager=function(t){return this.validator.validate([{field:"to",validator:this.validator.required(this.utils.getProperty(t,"to.extensionNumber"))},{field:"from",validator:this.validator.required(this.utils.getProperty(t,"from.extensionNumber"))},{field:"subject",validator:this.validator.required(this.utils.getProperty(t,"subject"))},{field:"subject",validator:this.validator.length(this.utils.getProperty(t,"subject"),160)}])},e}(i.Helper);e.Message=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments),this.tollFreeAreaCodes=["800","844","855","866","877","888"]}return r(e,t),e.prototype.createUrl=function(t,e){return t=t||{},t.lookup?"/number-pool/lookup":"/account/~"+(t.extensionId?"/extension/"+t.extensionId:"")+"/phone-number"+(e?"/"+e:"")},e.prototype.isSMS=function(t){return this.hasFeature(t,"SmsSender")},e.prototype.hasFeature=function(t,e){return!!t.features&&-1!=t.features.indexOf(e)},e.prototype.reserve=function(t,e){t.reservedTill=new Date(e).toISOString()},e.prototype.unreserve=function(t){t.reservedTill=null},e.prototype.comparator=function(t){return this.list.comparator(this.utils.extend({extractFn:function(t){return t.usageType+"-"+t.paymentType+"-"+t.type}},t))},e.prototype.filter=function(t){var e=this;return t=this.utils.extend({usageType:"",paymentType:"",type:"",features:[]},t),this.list.filter([{filterBy:"usageType",condition:t.usageType},{filterBy:"paymentType",condition:t.paymentType},{filterBy:"type",condition:t.type},{condition:t.features.length,filterFn:function(n){return t.features.some(function(t){return e.hasFeature(n,t)})}}])},e}(i.Helper);e.PhoneNumber=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(e,n,r,i){t.call(this,e,n,r),this.extension=i}return r(e,t),e.prototype.createUrl=function(t,e){return t=t||{},"/account/~/extension/"+(e||"~")+"/presence"+(t.detailed?"?detailedTelephonyState=true":"")},e.prototype.getId=function(t){return t&&(this.extension.getId(t.extension)||t.extensionId)},e.prototype.isAvailable=function(t){return t&&"Available"==t.presenceStatus},e.prototype.addEventToSubscription=function(t,e,n){return t.setEventFilters([this.createUrl(e,n)])},e.prototype.updateSubscription=function(t,e,n){
var r=this,i=e.map(this.getId,this).map(function(t){return r.createUrl(n,t)},this);return t.addEventFilters(i),t},e.prototype.attachToExtensions=function(t,e,n){var r=this,i=this.index(e);return t.forEach(function(t){var e=i[r.extension.getId(t)];e&&("presence"in t&&n?r.utils.extend(t.presence,e):t.presence=e)},this),this},e.prototype.isCallInProgress=function(t){return t&&"NoCall"!=t.telephonyStatus},e}(i.Helper);e.Presence=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(t,e){return t=t||{},"/account/~/extension/"+(t.extensionId||"~")+"/ringout"+(e?"/"+e:"")},e.prototype.resetAsNew=function(e){return e=t.prototype.resetAsNew.call(this,e),e&&delete e.status,e},e.prototype.isInProgress=function(t){return t&&!this.isNew(t)&&t.status&&"InProgress"==t.status.callStatus},e.prototype.isSuccess=function(t){return t&&!this.isNew(t)&&t.status&&"Success"==t.status.callStatus},e.prototype.isError=function(t){return!this.isNew(t)&&!this.isInProgress(t)&&!this.isSuccess(t)},e.prototype.validate=function(t){return this.validator.validate([{field:"to",validator:this.validator.required(t&&t.to&&t.to.phoneNumber)},{field:"from",validator:this.validator.required(t&&t.from&&t.from.phoneNumber)}])},e}(i.Helper);e.Ringout=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments),this.isSmsEnabled=this.isServiceFeatureEnabledMethod("SMS"),this.isSmsReceivingEnabled=this.isServiceFeatureEnabledMethod("SMSReceiving"),this.isPresenceEnabled=this.isServiceFeatureEnabledMethod("Presence"),this.isRingOutEnabled=this.isServiceFeatureEnabledMethod("RingOut"),this.isInternationalCallingEnabled=this.isServiceFeatureEnabledMethod("InternationalCalling"),this.isDndEnabled=this.isServiceFeatureEnabledMethod("DND"),this.isFaxEnabled=this.isServiceFeatureEnabledMethod("Fax"),this.isFaxReceivingEnabled=this.isServiceFeatureEnabledMethod("FaxReceiving"),this.isVoicemailEnabled=this.isServiceFeatureEnabledMethod("Voicemail"),this.isPagerEnabled=this.isServiceFeatureEnabledMethod("Pager"),this.isPagerReceivingEnabled=this.isServiceFeatureEnabledMethod("PagerReceiving"),this.isVoipCallingEnabled=this.isServiceFeatureEnabledMethod("VoipCalling"),this.isVideoConferencingEnabled=this.isServiceFeatureEnabledMethod("VideoConferencing"),this.isSalesForceEnabled=this.isServiceFeatureEnabledMethod("SalesForce"),this.isIntercomEnabled=this.isServiceFeatureEnabledMethod("Intercom"),this.isPagingEnabled=this.isServiceFeatureEnabledMethod("Paging"),this.isConferencingEnabled=this.isServiceFeatureEnabledMethod("Conferencing"),this.isFreeSoftPhoneLinesEnabled=this.isServiceFeatureEnabledMethod("FreeSoftPhoneLines"),this.isHipaaComplianceEnabled=this.isServiceFeatureEnabledMethod("HipaaCompliance"),this.isCallParkEnabled=this.isServiceFeatureEnabledMethod("CallPark"),this.isOnDemandCallRecordingEnabled=this.isServiceFeatureEnabledMethod("OnDemandCallRecording")}return r(e,t),e.prototype.createUrl=function(){return"/account/~/service-info"},e.prototype.isEnabled=function(t,e){return e.reduce(function(e,n){return n.featureName==t&&(e=n.enabled),e},!1)},e.prototype.isServiceFeatureEnabledMethod=function(t){var e=this;return function(n){return e.isEnabled(t,n)}},e}(i.Helper);e.Service=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(){return"/dictionary/shipping-options"},e}(i.Helper);e.ShippingMethod=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(e,n,r,i){t.call(this,e,n,r),this.country=i}return r(e,t),e.prototype.createUrl=function(){return"/dictionary/state"},e.prototype.filter=function(t){var e=this;return t=this.utils.extend({countryId:""},t),this.list.filter([{condition:t.countryId,filterFn:function(t,n){return e.country.getId(t.country)==n.condition}}])},e}(i.Helper);e.State=o},function(t,e,n){var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(6),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.createUrl=function(){return"/dictionary/timezone"},e}(i.Helper);e.Timezone=o}])});
//# sourceMappingURL=ringcentral-helpers.min.js.map
